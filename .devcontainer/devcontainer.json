{
  "name": "Discord Bot Dev Container",
  "image": "mcr.microsoft.com/devcontainers/base:debian",
  "remoteUser": "vscode",
  "runArgs": [
    "--network=host"
  ],
  "mounts": [
    "source=${localEnv:HOME}/.ssh,target=/home/vscode/.ssh,type=bind,consistency=cached",
    "source=${localEnv:HOME}/.docker,target=/home/vscode/.docker,type=bind,consistency=cached"
  ],
  "remoteEnv": {
    "DOCKER_CONFIG": "/home/vscode/.docker"
  },
  "features": {
    "ghcr.io/devcontainers/features/common-utils:2": {
      "configureZshAsDefaultShell": "true"
    },
    "ghcr.io/devcontainers-extra/features/zsh-plugins:0": {
      "plugins": "zsh-syntax-highlighting zsh-autosuggestions",
      "omzPlugins": "https://github.com/zsh-users/zsh-syntax-highlighting.git https://github.com/zsh-users/zsh-autosuggestions",
      "username": "vscode"
    },
    "ghcr.io/devcontainers/features/python:1": {
      "version": "3.13",
      "installTools": "true",
      "toolsToInstall": "ruff,mypy"
    },
    "ghcr.io/devcontainers/features/docker-in-docker:2": {
      "moby": "false"
    }
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "mikestead.dotenv",
        "charliermarsh.ruff",
        "foxundermoon.shell-format",
        "tamasfe.even-better-toml"
      ],
      "settings": {
        "github.copilot.chat.commitMessageGeneration.instructions": [
          {
            "file": ".github/commit-instructions.md"
          }
        ],
        "[python]": {
          "editor.codeActionsOnSave": {
            "source.fixAll": "explicit",
            "source.organizeImports": "explicit"
          },
          "editor.defaultFormatter": "charliermarsh.ruff"
        },
        "[shellscript]": {
          "editor.defaultFormatter": "foxundermoon.shell-format"
        }
      }
    }
  },
  "postCreateCommand": "./.devcontainer/post-create.sh"
}